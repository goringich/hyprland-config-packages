add_newline = false
format = "$directory $git_branch $git_status $git_metrics $python $nodejs $rust $golang $package $custom.git_stash $custom.docker_running $custom.updates $custom.ssh_agent $status $cmd_duration\n$character"
right_format = "${custom.os_cachyos} ${custom.kernel} ${custom.uptime_short} ${custom.loadavg} $memory_usage ${custom.cpu_temp} $battery $time"

[character]
success_symbol = "â¯"
error_symbol   = "âœ–"

[directory]
truncation_length = 3
truncate_to_repo  = true
style = "bold cyan"
read_only = " ï€£"

[git_branch]
symbol = "îœ¥ "
format = "[$symbol$branch]($style) "
style = "bright-magenta"

[git_status]
format = "([$all_status$ahead_behind]($style)) "
style = "yellow"

[git_metrics]
disabled = false
format = " [+${added}]($added_style) [-${deleted}]($deleted_style)"
added_style = "green"
deleted_style = "red"

[cmd_duration]
min_time = 200
format = "â± $duration"
style = "dim"

[status]
disabled = false
map_symbol = true
format = "[âœ— $status]($style) "
style = "red"

[nodejs]
symbol = "îœ˜ "
format = "[$symbol$version]($style) "
style = "green"

[rust]
symbol = "îž¨ "
format = "[$symbol$version]($style) "
style = "orange"

[golang]
symbol = "î˜§ "
format = "[$symbol$version]($style) "
style = "bright-blue"

[python]
symbol = "î˜† "
format = "[$virtualenv $version]($style) "
pyenv_version_name = true
style = "cyan"

[package]
symbol = "ó°— "
format = "[$symbol$version]($style) "
style = "magenta"

[docker_context]
symbol = "ïŒˆ "
format = "[$symbol$context]($style) "
style = "bright-cyan"

[kubernetes]
symbol = "â˜¸ "
format = "[$symbol$context(::$namespace)]($style) "
disabled = false
style = "bright-green"

[time]
disabled = false
format = "ðŸ•’ $time"
time_format = "%H:%M"
style = "dim"

[battery]
disabled = false
format = "[$symbol $percentage]"
full_symbol = "ðŸ”‹"
charging_symbol = "âš¡"
discharging_symbol = "ðŸ”Œ"

[memory_usage]
disabled = false
threshold = 0
style = "bold dim"
format = "[RAM $ram_pct]($style)"

# Ð½Ð°Ð´Ñ‘Ð¶Ð½Ð°Ñ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð° CPU Ñ‡ÐµÑ€ÐµÐ· sensors
[custom.cpu_temp]
command = "sensors | awk '/Package id 0:/ {gsub(\"+\", \"\", $3); print \"CPU \" $3; exit}'"
shell = ["bash", "-c"]
when = "command -v sensors >/dev/null 2>&1"
format = "[$output]($style)"
style = "bold red"

# Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ðµ Ð¼Ð¾Ð´ÑƒÐ»Ð¸ â€” ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ðµ Ñ„Ð¸Ñ‡Ð¸
[custom.git_stash]
command = "bash -lc 'git rev-parse --git-dir >/dev/null 2>&1 && git stash list | wc -l | awk \"{if($1>0) print \"âš‘ \"$1}\"'"
shell = ["bash", "-c"]
when = "command -v git >/dev/null 2>&1"
format = "[$output]($style) "
style = "purple bold"

[custom.docker_running]
command = "bash -lc 'docker ps -q 2>/dev/null | wc -l | awk \"{if($1>0) print \"ïŒˆ \"$1}\"'"
shell = ["bash","-c"]
when = "command -v docker >/dev/null 2>&1"
format = "[$output]($style)"
style = "bright-cyan"

[custom.updates]
command = "bash -lc 'if command -v checkupdates >/dev/null 2>&1; then checkupdates | wc -l; elif command -v apt >/dev/null 2>&1; then apt list --upgradable 2>/dev/null | tail -n +2 | wc -l; elif command -v brew >/dev/null 2>&1; then brew outdated --quiet | wc -l; else echo 0; fi | awk \"{if($1>0) print \"â¬† \"$1}\"'"
shell = ["bash","-c"]
when = "command -v checkupdates >/dev/null 2>&1 || command -v apt >/dev/null 2>&1 || command -v brew >/dev/null 2>&1"
format = "[$output]($style)"
style = "yellow bold"

[custom.ssh_agent]
command = "bash -lc 'if [ -n \"$SSH_AUTH_SOCK\" ]; then echo \"ðŸ”‘ SSH\"; fi'"
shell = ["bash","-c"]
when = "test -n \"$SSH_AUTH_SOCK\""
format = "[$output]($style)"
style = "bright-yellow"

[hostname]
ssh_only = true
format = "[$hostname]($style)"
style = "bright-black"

# CachyOS and system info modules for the right prompt
[custom.os_cachyos]
command = "bash -lc 'if [ -r /etc/os-release ]; then . /etc/os-release; if echo $NAME | grep -qi cachy; then echo \"ïŒƒ CachyOS\"; elif echo $ID | grep -qi cachy; then echo \"ïŒƒ CachyOS\"; else echo \"ïŒƒ Arch\"; fi; else echo \"ïŒƒ Arch\"; fi'"
shell = ["bash","-c"]
when = "test -r /etc/os-release"
format = "[$output]($style)"
style = "bold blue"

[custom.kernel]
command = "bash -lc 'uname -r | cut -d- -f1'"
shell = ["bash","-c"]
when = "true"
format = "[ï…¼ $output]($style)"
style = "bright-cyan"

[custom.uptime_short]
command = "bash -lc 'uptime -p | sed -e \"s/^up //\" -e \"s/ hours\?/h/\" -e \"s/ hour/h/\" -e \"s/ minutes\?/m/\" -e \"s/ minute/m/\" -e \"s/ days\?/d/\" -e \"s/ day/d/\"'"
shell = ["bash","-c"]
when = "command -v uptime >/dev/null 2>&1"
format = "[â¬† $output]($style)"
style = "dim"

[custom.loadavg]
command = "bash -lc 'read la _ < /proc/loadavg && printf \"LA %s\" \"$la\"'"
shell = ["bash","-c"]
when = "test -r /proc/loadavg"
format = "[$output]($style)"
style = "dim"
